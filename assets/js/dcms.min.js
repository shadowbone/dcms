$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content"),"DSCM-TOKEN":"xtc"}}),$.fn.modal.defaults.spinner=$.fn.modalmanager.defaults.spinner='<div class="loading-spinner" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="progress-bar" style="width: 100%;"></div></div></div>',$(document).on("click",'[data-toggle="modal"]',function(e){e.preventDefault(),_this=$(this),url=_this.attr("href"),void 0!==_this.data("url")&&(url=_this.data("url")),modal=$(_this.data("target")),(backdrop=_this.data("backdrop"))&&modal.data("backdrop",backdrop),(width=_this.data("width"))&&modal.data("width",width),$(".modal-content",modal).empty(),url&&"#"!=url.charAt(0)&&(modal.removeClass("fade"),modal.modal("show"),$("body").modalmanager("loading"),modal.load(url,null,function(){modal.modal(),modal.modal("show")}))}),$.fn.myForm=function(content){var _this=$(this),_default={confirmMessage:void 0!==_this.attr("data-confirm-message")?_this.attr("data-confirm-message"):null,confirmTitle:void 0!==_this.attr("data-confirm-title")?_this.attr("data-confirm-title"):null,url:void 0!==_this.attr("action")?_this.attr("action"):null,method:void 0!==_this.attr("method")?_this.attr("method"):null,data:null,success:function(e,t){},error:function(e,t){},before:function(e){}},options=$.extend(!0,_default,content);_this.submit(function(event){event.preventDefault(),_this.ajaxSubmit({type:options.type,url:options.url,data:options.data,beforeSubmit:function(){options.before(),$(".form-group",_this).removeClass("has-error"),$("span.help-block.error",_this).remove()},success:function(data){var data=JSON.parse(data),succTitle="Proses Berhasil !",succMsg="Data Berhasil Di Simpan.";options.success(data),data.title&&(succTitle=data.title),data.message&&(succMsg=data.message),_this[0].reset(),$("input:checkbox",_this).removeAttr("checked"),$(".checked",_this).removeClass("checked"),$(".select2",_this).length>0&&$(".select2",_this).select2("val",""),data.return&&eval("("+data.return+")"),$.gritter.add({title:'<span class="glyphicon glyphicon-saved" aria-hidden="true"></span> &nbsp;'+succTitle,text:succMsg,sticky:!1,class_name:"gritter-success"})},error:function(e){options.error();var t=e.status,a="Terjadi Kesalahan, Silahkan Cek Inputan.",s="Proses Gagal !";if("411"==t){var r=JSON.parse(e.responseText),o='<i class="fa fa-exclamation-triangle" aria-hidden="true"></i> &nbsp';e.message&&(a=e.message),e.title&&(s=e.title),$.each(r.data,function(e,t){var a=$("[name="+e+"]",_this),s=$(".error_"+e,_this),r=a.closest(".form-group").find("div.input-group"),i=a.closest(".form-group").find("div.selectize-control"),l=a.closest(".form-group").find(".select2-container");a.closest(".form-group").addClass("has-error");var n=$("#error_"+e,_this);n.length?n.html('<span class="help-block error">'+o+t[0]+"</span>"):r.length?r.after('<span class="help-block error">'+o+t[0]+"</span>"):i.length?i.after('<span class="help-block error">'+o+t[0]+"</span>"):l.length?l.after('<span class="help-block error">'+o+t[0]+"</span>"):s.length?s.after('<span class="help-block error">'+o+t[0]+"</span>"):a.after('<span class="help-block error">'+o+t[0]+"</span>")})}else a="Terjadi Kesalahan pada Sistem",s="Error "+t+" !";$.gritter.add({title:'<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> &nbsp;'+s,text:a,sticky:!1,class_name:"gritter-error"})}})})};var myApp={init:function(){$("[data-rel=tooltip]").tooltip(),$("[data-rel=popover]").popover({html:!0}),myApp.checkAll(),$.each($("select.select2"),function(){$(this).select2({width:"100%"})})},checkAll:function(e){$(".unchecked-all, .checked-all").on("click",function(e){var t=$(this).attr("class");$(".del-checked");return"checked-all"===t?$(".del-checked").prop("checked",!0):$(".del-checked").prop("checked",!1),$(".del-checked:checked").length,!1})},delete:function(e){}};$.fn.myTabel=function(e){var t=$(this),a=void 0===t.data("filter")||t.data("filter"),s=void 0!==t.data("order")&&t.data("order"),r=void 0===t.data("process")||t.data("process"),o=void 0===t.data("ajax-proces")||t.data("ajax-proces"),i=(void 0!==t.data("pagination")&&t.data("pagination"),void 0!==t.data("source")?t.data("source"):null),l={ordering:s,bProcessing:r,bServerSide:o,bFilter:!1,bLengthChange:!1,columns:null,oLanguage:{sEmptyTable:'<div style="text-align:center;"> <b>Data Kosong</b> </div>',sZeroRecords:'<div style="text-align:center;"> <b>Data Kosong</b> </div>'},ajax:{url:i,type:"POST",data:function(e){var t={},s=$(a).serializeArray();return $.each(s,function(e,a){t[a.name]=a.value}),$.extend({},e,t)}}},n=$.extend(!0,l,e),c=t.DataTable(n);return{reload:function(e){void 0!==e||"false"===e?c.draw(!1):c.draw()},reset:function(){var e=$(a);e[0].reset(),$(".select2",e).length>0&&$(".select2",e).select2("val",""),this.reload()}}};