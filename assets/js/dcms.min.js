$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content"),"DSCM-TOKEN":"xtc"}}),$.fn.modal.defaults.spinner=$.fn.modalmanager.defaults.spinner='<div class="loading-spinner" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="progress-bar" style="width: 100%;"></div></div></div>',$(document).on("click",'[data-toggle="modal"]',function(t){t.preventDefault(),_this=$(this),url=_this.attr("href"),void 0!==_this.data("url")&&(url=_this.data("url")),modal=$(_this.data("target")),(backdrop=_this.data("backdrop"))&&modal.data("backdrop",backdrop),(width=_this.data("width"))&&modal.data("width",width),$(".modal-content",modal).empty(),url&&"#"!=url.charAt(0)&&(modal.removeClass("fade"),modal.modal("show"),$("body").modalmanager("loading"),modal.load(url,null,function(){modal.modal(),modal.modal("show")}))}),$.fn.myForm=function(content){var _this=$(this),_default={confirmMessage:void 0!==_this.attr("data-confirm-message")?_this.attr("data-confirm-message"):null,confirmTitle:void 0!==_this.attr("data-confirm-title")?_this.attr("data-confirm-title"):null,url:void 0!==_this.attr("action")?_this.attr("action"):null,method:void 0!==_this.attr("method")?_this.attr("method"):null,data:null,success:function(t,e){},error:function(t,e){},before:function(t){}},options=$.extend(!0,_default,content);_this.submit(function(event){event.preventDefault(),_this.ajaxSubmit({type:options.type,url:options.url,data:options.data,beforeSubmit:function(){options.before(),$(".form-group",_this).removeClass("has-error"),$("span.help-block.error",_this).remove()},success:function(data){var data=JSON.parse(data),succTitle="Proses Berhasil !",succMsg="Data Berhasil Di Simpan.";options.success(data),data.title&&(succTitle=data.title),data.message&&(succMsg=data.message),_this[0].reset(),$("input:checkbox",_this).removeAttr("checked"),$(".checked",_this).removeClass("checked"),$(".select2",_this).length>0&&$(".select2",_this).select2("val",""),data.return&&eval("("+data.return+")"),$.gritter.add({title:'<span class="glyphicon glyphicon-saved" aria-hidden="true"></span> &nbsp;'+succTitle,text:succMsg,sticky:!1,class_name:"gritter-success"})},error:function(t){options.error();var e=t.status,a="Terjadi Kesalahan, Silahkan Cek Inputan.",s="Proses Gagal !";if("411"==e){var r=JSON.parse(t.responseText),o='<i class="fa fa-exclamation-triangle" aria-hidden="true"></i> &nbsp';t.message&&(a=t.message),t.title&&(s=t.title),$.each(r.data,function(t,e){var a=$("[name="+t+"]",_this),s=$(".error_"+t,_this),r=a.closest(".form-group").find("div.input-group"),i=a.closest(".form-group").find("div.selectize-control"),l=a.closest(".form-group").find(".select2-container");a.closest(".form-group").addClass("has-error");var n=$("#error_"+t,_this);n.length?n.html('<span class="help-block error">'+o+e[0]+"</span>"):r.length?r.after('<span class="help-block error">'+o+e[0]+"</span>"):i.length?i.after('<span class="help-block error">'+o+e[0]+"</span>"):l.length?l.after('<span class="help-block error">'+o+e[0]+"</span>"):s.length?s.after('<span class="help-block error">'+o+e[0]+"</span>"):a.after('<span class="help-block error">'+o+e[0]+"</span>")})}else a="Terjadi Kesalahan pada Sistem",s="Error "+e+" !";$.gritter.add({title:'<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> &nbsp;'+s,text:a,sticky:!1,class_name:"gritter-error"})}})})};var myApp={init:function(){$("[data-rel=tooltip]").tooltip(),$("[data-rel=popover]").popover({html:!0}),myApp.checkAll(),$.each($("select.select2"),function(){$(this).select2({width:"100%"})})},checkAll:function(t){$(".unchecked-all, .checked-all").on("click",function(t){var e=$(this).attr("class");$(".del-checked");return"checked-all"===e?$(".del-checked").prop("checked",!0):$(".del-checked").prop("checked",!1),$(".del-checked:checked").length,!1})},delete:function(t){}};$.fn.myTabel=function(t){var e=$(this),a=void 0===e.data("filter")||e.data("filter"),s=void 0!==e.data("order")&&e.data("order"),r=void 0===e.data("process")||e.data("process"),o=void 0===e.data("ajax-proces")||e.data("ajax-proces"),i=(void 0!==e.data("pagination")&&e.data("pagination"),void 0!==e.data("source")?e.data("source"):null),l={ordering:s,bProcessing:r,bServerSide:o,bFilter:!1,bLengthChange:!1,columns:null,oLanguage:{sEmptyTable:'<div style="text-align:center;"> <b>Data Kosong</b> </div>',sZeroRecords:'<div style="text-align:center;"> <b>Data Kosong</b> </div>'},ajax:{url:i,type:"POST",data:function(t){t.extra_search=void 0!==a?$(a).serializeArray():[],t.YII_CSRF_TOKEN=$('meta[name="YII_CSRF_TOKEN"]').attr("content")}}},n=$.extend(!0,l,t),c=e.DataTable(n);return{reload:function(t){void 0!==t||"false"===t?c.draw(!1):c.draw()},reset:function(){var t=$(a);t[0].reset(),$(".select2",t).length>0&&$(".select2",t).select2("val",""),this.reload()}}};